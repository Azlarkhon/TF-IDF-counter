# TF-IDF Counter

**TF-IDF Counter** — сервис для вычисления важности слов в текстовых документах на основе метрики TF-IDF. Пользователь загружает текстовый файл, и приложение возвращает топ-50 самых редких терминов с их значениями TF и IDF упрощая анализ ключевых слов и улучшая обработку текста. Так же имеется авторизация и аутентификация, после чего пользователь может загружать, видеть, удалять, получить статистику по своим документам. То же самое идет и к коллекциям.

## Содержание

* [Технологии](#технологии)
* [Структура проекта](#структура-проекта)
* [Начало работы](#начало-работы)
* [Использование](#использование)
* [Функциональность](#функциональность)
* [История изменений](#история-изменений)
* [Диаграмма датабазы](#диаграмма-датабазы)
* [Версия](#версия)
* [Автор](#автор)

## Технологии

* GO
* PostgreSQL
* Docker
* Git/Github

## Структура проекта

```text
.
├── .env                              # Переменные окружения
├── .env.example                      # Пример переменных окружения
├── .gitignore                        # Файлы и папки для игнорирования Git'ом
├── CHANGELOG.md                      # История изменений проекта
├── compose.yaml                      # Конфигурация Docker Compose
├── DB-DIAGRAM.md                     # Диаграмма базы данных
├── Dockerfile                        # Инструкции для сборки Docker-образа
├── go.mod                            # Модуль Go: зависимости и версия
├── go.sum                            # Контрольные суммы зависимостей Go
├── main.go                           # Главный файл приложения, точка входа
├── README.md                         # Основная документация проекта
│
├── config/                           # Настройки и конфигурация приложения
│   └── init.go                       # Инициализация конфигурации
│
├── controllers/                      # Обработчики HTTP-запросов (контроллеры)
│   ├── collectionController.go       # Контроллер для работы с коллекциями
│   ├── documentController.go         # Контроллер для работы с документами
│   ├── metricsController.go          # Контроллер для получения метрик
│   ├── TFIDFController.go            # Контроллер для TF-IDF операций
│   └── userController.go             # Контроллер для работы с пользователями
│
├── database/                         # Управление подключением к базе данных
│   └── database.go                   # Логика подключения к БД
│
├── docs/                             # Документация API (Swagger/OpenAPI)
│   ├── docs.go                       # Исходный файл для генерации Swagger
│   ├── swagger.json                  # Сгенерированный JSON-файл Swagger
│   └── swagger.yaml                  # Сгенерированный YAML-файл Swagger
│
├── dto/                              # Объекты передачи данных (Data Transfer Objects)
│   ├── collection.go                 # DTO для коллекций
│   ├── document.go                   # DTO для документов
│   └── users.go                      # DTO для пользователей
│
├── helper/                           # Вспомогательные функции и утилиты
│   ├── jwt.go                        # Функции для работы с JWT
│   └── responseBuilder.go            # Функции для построения стандартных HTTP-ответов
│
├── image/                            # Изображения, используемые в документации или проекте
│   └── DB-DIAGRAM/                   # Папка для диаграмм БД
│       └── 1749549643575.png         # Изображение диаграммы БД
│
├── middleware/                       # Промежуточное ПО для обработки запросов
│   └── authMiddleware.go             # Промежуточное ПО для аутентификации
│
├── models/                           # Структуры данных для работы с БД (модели)
│   ├── collectionModel.go            # Модель данных для коллекций
│   ├── documentModel.go              # Модель данных для документов
│   ├── metricsModel.go               # Модель данных для метрик
│   └── userModel.go                  # Модель данных для пользователей
│
├── nginx/                            # Конфигурация Nginx
│   ├── nginx.conf                    # Основной конфигурационный файл Nginx
│   └── logs/                         # Логи Nginx
│       ├── access.log                # Лог доступа Nginx
│       └── error.log                 # Лог ошибок Nginx
│
├── routes/                           # Определение маршрутов API
│   ├── collectionRoute.go            # Маршруты для коллекций
│   ├── documentRoute.go              # Маршруты для документов
│   ├── route.go                      # Главный файл с определением маршрутов
│   └── userRoute.go                  # Маршруты для пользователей
│
├── services/                         # Бизнес-логика приложения (сервисы)
│   ├── metricsService.go             # Сервис для работы с метриками
│   └── TFIDFService.go               # Сервис для вычисления TF-IDF
│
├── templates/                        # HTML-шаблоны
│   └── index.tmpl                    # Шаблон для главной страницы
│
└── version/                          # Информация о версии приложения
    └── version.go                    # Файл с номером версии приложения
```

## Начало работы

### Установка и запуск проекта

Вы можете запустить проект с использование Docker.

**Клонируйте репозиторий:**

```
git clone https://github.com/Azlarkhon/TF-IDF-counter.git
cd TF-IDF-counter
```

1. Убедитесь, что у вас установлен Docker и Docker Compose.
2. Создайте `.env `файл в корне проекта и заполните секретные данные. Что нужно заполнить указал в [.env.example](./.env.example).
3. Запустите проект:
   ```
   docker-compose up --build
   ```
4. Приложение будет доступно по адресу: [http://localhost:8080](http://localhost:8080). В [http://localhost:8080/swagger/index.html](http://localhost:8080/swagger/index.html) находится swagger ui где можете посмотреть документацию по api и протестировать ее.

## Использование

1. Пользователь загружает тестовый файл (`*.txt`) размером до **до 5 МБ.**
2. Программа вычисляет:
   - TF (Term Frequency) - частота термина в документе.
   - IDF (Inverse Document Frequency) - обратная частота документа.
3. Результаты сортируются по возрастанию TF и выводятся в виде таблицы.
4. Для получения статистик или других операций (CRUD), нужно обратиться к swagger ui.

## Функциональность

1. Поддержка файлов до 5 МБ.
2. Автоматическая обработка:
   - Приведение к нижнему регистру.
   - Удаление пунктуации.
3. Сортировка результатов по TF.
4. REST API для загрузки, обработки файлов и получения разных статистик.
5. Авторизация и аутентификация.
6. Закодирование контента документа с помощью алгоритма Хаффмана.

## История изменений

Все изменения и обновления проекта фиксируются в файле [CHANGELOG.md](./CHANGELOG.md).

## Диаграмма датабазы

[DATABASE-DIAGRAM.md](./DB-DIAGRAM.md)

## Версия

Текущая версия: `v1.2.0`

## Автор

Азлархон Хасанхужаев
